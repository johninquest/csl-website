---
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation.astro';
import Footer from '../../components/Footer.astro';
import PageTracker from '../../components/PageTracker.astro';
---

<Layout title="SozialCare Platform | Care Software Labs">
    <PageTracker pageName="sozialcare-solution" pageCategory="product-detail" />
    <Navigation />

    <main>
        <section class="hero">
            <div class="container">
                <h1 class="hero__title">SozialCare Platform</h1>
                <p class="hero__tagline">Case management for school social workers</p>
                <div class="hero__status">
                    <span class="status-badge status-badge--active">Piloting</span>
                </div>
            </div>
        </section>

        <section class="overview">
            <div class="container">
                <div class="overview__content">
                    <h2 class="section__title">From Paper-Based to Digital</h2>
                    <p class="overview__description">
                        SozialCare Platform addresses the core challenge of paper-based case work in schools. 
                        Currently piloting with a private school in the region, our platform enables faster 
                        documentation, real-time visibility, and better data protection readiness.
                    </p>
                </div>
            </div>
        </section>

        <section class="core-features">
            <div class="container">
                <h2 class="section__title">Core Features</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <h3 class="feature__title">Case Management</h3>
                        <p class="feature__description">Track cases and follow-ups effortlessly with our intuitive interface</p>
                    </div>
                    <div class="feature-card">
                        <h3 class="feature__title">Real-time Insights</h3>
                        <p class="feature__description">Real-time dashboards for leadership insights and decision making</p>
                    </div>
                    <div class="feature-card">
                        <h3 class="feature__title">Data Protection</h3>
                        <p class="feature__description">GDPR-compliant by design with built-in privacy controls</p>
                    </div>
                    <div class="feature-card">
                        <h3 class="feature__title">Easy Reporting</h3>
                        <p class="feature__description">Generate reports with ease for compliance and insights</p>
                    </div>
                    <div class="feature-card">
                        <h3 class="feature__title">Mobile Ready</h3>
                        <p class="feature__description">Full desktop and mobile access for work anywhere</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="platform-preview">
            <div class="container">
                <h2 class="section__title">Platform Preview</h2>
                <p class="preview-subtitle">Click on any image for a detailed view</p>
                <div class="preview-gallery">
                    <div class="preview-item">
                        <div class="preview-image-container" 
                             data-image="/images/sozialcare-dashboard.png" 
                             data-caption="Dashboard with real-time case insights and statistics">
                            <img src="/images/sozialcare-dashboard.png" alt="SozialCare Dashboard showing real-time case overview and statistics" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                            <div class="preview-placeholder">
                                <div class="placeholder-icon">üìä</div>
                                <p>Dashboard</p>
                                <small>Real-time overview</small>
                            </div>
                            <div class="preview-overlay">
                                <div class="zoom-icon">üëÅÔ∏è</div>
                            </div>
                        </div>
                        <p class="preview-caption">Dashboard with real-time case insights and statistics</p>
                    </div>
                    <div class="preview-item">
                        <div class="preview-image-container" 
                             data-image="/images/sozialcare-case-list.png" 
                             data-caption="Complete case list with filtering and sorting">
                            <img src="/images/sozialcare-case-list.png" alt="Case list view showing all active cases" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                            <div class="preview-placeholder">
                                <div class="placeholder-icon">üìã</div>
                                <p>Case List</p>
                                <small>All cases overview</small>
                            </div>
                            <div class="preview-overlay">
                                <div class="zoom-icon">üëÅÔ∏è</div>
                            </div>
                        </div>
                        <p class="preview-caption">Complete case list with filtering and sorting</p>
                    </div>
                    <div class="preview-item">
                        <div class="preview-image-container" 
                             data-image="/images/sozialcare-case-details.png" 
                             data-caption="Detailed case information and documentation">
                            <img src="/images/sozialcare-case-details.png" alt="Individual case details view" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                            <div class="preview-placeholder">
                                <div class="placeholder-icon">üë§</div>
                                <p>Case Details</p>
                                <small>Individual case view</small>
                            </div>
                            <div class="preview-overlay">
                                <div class="zoom-icon">üëÅÔ∏è</div>
                            </div>
                        </div>
                        <p class="preview-caption">Detailed case information and documentation</p>
                    </div>
                    <div class="preview-item">
                        <div class="preview-image-container" 
                             data-image="/images/sozialcare-follow-ups.png" 
                             data-caption="Follow-up scheduling and tracking system">
                            <img src="/images/sozialcare-follow-ups.png" alt="Follow-up tracking and scheduling interface" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                            <div class="preview-placeholder">
                                <div class="placeholder-icon">üîÑ</div>
                                <p>Follow-ups</p>
                                <small>Track appointments</small>
                            </div>
                            <div class="preview-overlay">
                                <div class="zoom-icon">üëÅÔ∏è</div>
                            </div>
                        </div>
                        <p class="preview-caption">Follow-up scheduling and tracking system</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Image Modal -->
        <div id="imageModal" class="modal">
            <div class="modal-content">
                <span class="modal-close">&times;</span>
                <img id="modalImage" src="" alt="" />
                <div class="modal-caption" id="modalCaption"></div>
            </div>
        </div>

        <section class="cta">
            <div class="container">
                <div class="cta__content">
                    <h2 class="cta__title">Join Our Pilot Program</h2>
                    <p class="cta__description">
                        We're seeking additional schools to join our pilot program. 
                        Get early access while helping shape the platform's development.
                    </p>
                    <div class="cta__actions">
                        <a href="mailto:hello@caresoftwarelabs.com?subject=SozialCare%20Pilot%20Program" class="button button--primary">
                            Request Pilot Access
                        </a>
                        <a href="mailto:hello@caresoftwarelabs.com?subject=SozialCare%20Demo" class="button button--secondary">
                            Schedule Demo
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <Footer />
</Layout>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get all preview containers
        const previewContainers = document.querySelectorAll('.preview-image-container');
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage') as HTMLImageElement;
        const modalCaption = document.getElementById('modalCaption');
        const closeBtn = document.querySelector('.modal-close');

        // Add click event to each preview container
        previewContainers.forEach(function(container) {
            container.addEventListener('click', function(this: HTMLElement) {
                const imageSrc = this.getAttribute('data-image');
                const caption = this.getAttribute('data-caption');
                
                if (modal && modalImg && modalCaption && imageSrc) {
                    modal.style.display = 'block';
                    modalImg.src = imageSrc;
                    modalImg.alt = caption || '';
                    modalCaption.textContent = caption || '';
                    document.body.style.overflow = 'hidden';
                }
            });
        });

        // Close modal when clicking the X
        if (closeBtn) {
            closeBtn.addEventListener('click', function() {
                if (modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        }

        // Close modal when clicking outside the image
        if (modal) {
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            });
        }

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modal && modal.style.display === 'block') {
                modal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
        });
    });
</script>

<style>
    /* Layout */
    main {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        background-color: var(--color-bg-primary);
    }

    .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 0 1.5rem;
    }

    /* Hero Section */
    .hero {
        padding: 8rem 0 6rem 0;
        text-align: center;
        background-color: var(--color-bg-primary);
    }

    .hero__title {
        font-size: clamp(2.5rem, 5vw, 3.5rem);
        font-weight: 300;
        color: var(--color-primary);
        margin: 0 0 1rem 0;
        letter-spacing: -0.02em;
    }

    .hero__tagline {
        font-size: clamp(1.125rem, 2.5vw, 1.5rem);
        color: var(--color-text-secondary);
        font-weight: 400;
        margin: 0 0 2rem 0;
    }

    .hero__status {
        display: flex;
        justify-content: center;
    }

    .status-badge {
        font-size: 0.875rem;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-weight: 500;
        background-color: #10b981;
        color: white;
    }

    /* Overview Section */
    .overview {
        padding: 4rem 0;
        background-color: var(--color-bg-secondary);
    }

    .overview__content {
        text-align: center;
    }

    .section__title {
        font-size: clamp(1.75rem, 3vw, 2.25rem);
        font-weight: 400;
        color: var(--color-primary);
        margin: 0 0 2rem 0;
        text-align: center;
    }

    .overview__description {
        font-size: 1.125rem;
        line-height: 1.8;
        color: var(--color-text-secondary);
        max-width: 700px;
        margin: 0 auto;
    }

    /* Core Features */
    .core-features {
        padding: 6rem 0;
        background-color: var(--color-bg-primary);
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
    }

    .feature-card {
        background-color: var(--color-bg-secondary);
        border: 1px solid var(--color-border);
        border-radius: 8px;
        padding: 2rem;
        text-align: center;
    }

    .feature__title {
        font-size: 1.25rem;
        font-weight: 500;
        color: var(--color-primary);
        margin: 0 0 1rem 0;
    }

    .feature__description {
        font-size: 1rem;
        color: var(--color-text-secondary);
        line-height: 1.6;
        margin: 0;
    }

    /* Platform Preview */
    .platform-preview {
        padding: 6rem 0;
        background-color: var(--color-bg-secondary);
    }

    .preview-subtitle {
        text-align: center;
        font-size: 0.9375rem;
        color: var(--color-text-secondary);
        margin: -1rem 0 3rem 0;
        font-style: italic;
    }

    .preview-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
    }

    .preview-item {
        background-color: var(--color-bg-primary);
        border: 1px solid var(--color-border);
        border-radius: 12px;
        padding: 1.5rem;
        text-align: center;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .preview-item:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .preview-image-container {
        position: relative;
        width: 100%;
        height: 240px;
        margin-bottom: 1rem;
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
    }

    .preview-image-container:hover .preview-overlay {
        opacity: 1;
    }

    .preview-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
        border-radius: 8px;
    }

    .zoom-icon {
        font-size: 2rem;
        color: white;
        background-color: rgba(255, 255, 255, 0.2);
        padding: 1rem;
        border-radius: 50%;
        backdrop-filter: blur(4px);
    }

    .preview-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .preview-placeholder {
        display: none;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-primary) 100%);
        border: 2px dashed var(--color-border);
        flex-direction: column;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        color: var(--color-text-secondary);
    }

    .placeholder-icon {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        opacity: 0.6;
    }

    .preview-placeholder p {
        font-weight: 500;
        font-size: 1.125rem;
        margin: 0 0 0.25rem 0;
        color: var(--color-primary);
    }

    .preview-placeholder small {
        font-size: 0.875rem;
        opacity: 0.7;
        margin: 0;
    }

    .preview-caption {
        font-size: 0.875rem;
        color: var(--color-text-secondary);
        margin: 0;
        font-weight: 500;
        line-height: 1.4;
    }

    /* Modal Styles */
    .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .modal-content {
        position: relative;
        margin: 2% auto;
        padding: 0;
        width: 90%;
        max-width: 1200px;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .modal-close {
        position: absolute;
        top: -40px;
        right: 0;
        color: white;
        font-size: 2rem;
        font-weight: bold;
        cursor: pointer;
        z-index: 1001;
        background-color: rgba(0, 0, 0, 0.5);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.3s ease;
    }

    .modal-close:hover {
        background-color: rgba(0, 0, 0, 0.8);
    }

    #modalImage {
        max-width: 100%;
        max-height: 80vh;
        object-fit: contain;
        border-radius: 8px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    }

    .modal-caption {
        color: white;
        text-align: center;
        padding: 1rem 0;
        font-size: 1.125rem;
        max-width: 600px;
    }

    /* CTA Section */
    .cta {
        padding: 6rem 0;
        background-color: var(--color-bg-secondary);
    }

    .cta__content {
        text-align: center;
    }

    .cta__title {
        font-size: clamp(1.75rem, 3vw, 2.25rem);
        font-weight: 400;
        color: var(--color-primary);
        margin: 0 0 1.5rem 0;
    }

    .cta__description {
        font-size: 1.125rem;
        line-height: 1.7;
        color: var(--color-text-secondary);
        max-width: 600px;
        margin: 0 auto 2.5rem auto;
    }

    .cta__actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
    }

    .button--primary {
        background-color: var(--color-primary);
        color: white;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .hero {
            padding: 6rem 0 4rem 0;
        }

        .core-features, .cta {
            padding: 4rem 0;
        }

        .features-grid {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }

        .feature-card {
            padding: 1.5rem;
        }

        .cta__actions {
            flex-direction: column;
            align-items: center;
        }

        .cta__actions .button {
            width: 100%;
            max-width: 280px;
        }

        .preview-gallery {
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        
        .preview-item {
            padding: 1rem;
        }

        .preview-image-container {
            height: 200px;
        }

        .placeholder-icon {
            font-size: 2rem;
        }

        .modal-content {
            width: 95%;
            margin: 5% auto;
        }

        .modal-close {
            top: -35px;
            font-size: 1.5rem;
            width: 35px;
            height: 35px;
        }

        .zoom-icon {
            font-size: 1.5rem;
            padding: 0.75rem;
        }
    }
</style>