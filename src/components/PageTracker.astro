---
// src/components/PageTracker.astro
interface Props {
    pageName: string;
    pageCategory?: string;
}

const { pageName, pageCategory = 'general' } = Astro.props;
---

<script define:vars={{ pageName, pageCategory }}>
// Track custom page dimensions
if (typeof window !== 'undefined' && window.gtag) {
    gtag('config', window.GA_MEASUREMENT_ID, {
        custom_map: {
            custom_dimension_1: 'page_category',
            custom_dimension_2: 'language'
        }
    });
    
    gtag('event', 'page_view', {
        page_category: pageCategory,
        page_name: pageName,
        language: document.documentElement.lang
    });
}
</script>